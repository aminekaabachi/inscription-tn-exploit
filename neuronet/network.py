from pymongo import MongoClient
from pybrain.tools.shortcuts import buildNetwork
from pybrain.datasets import SupervisedDataSet
from pybrain.supervised.trainers import BackpropTrainer


client = MongoClient()
db = client.local
people = db.people

ds = SupervisedDataSet(1, 1)

for i in range(9030000, 9039998):
    cin = "%08.d" % i
    exit = people.find({"cin": cin}).count() > 0
    if exit:
        ds.addSample((i,), (1,))
    else:
        ds.addSample((i,), (0,))

net = buildNetwork(1, 3, 1, bias=True, hiddenclass=TanhLayer)
trainer = BackpropTrainer(net, ds)
trainer.train()
trainer.trainUntilConvergence()

net.activate([])
